<div class="container-fluid bg-white rounded">
    <div class="row g-0 text-center">
        <div class="col-sm-3 mt-3  ">
            <div class="p-3 bg-light rounded" ng-show="date === 'close'">
                <pre></pre>
                <pre></pre>
                <pre></pre>
                <pre></pre>
            </div>
            <div class="p-3 bg-light rounded " ng-show="date === 'open'">
                <div class="card mb-3">
                    <div class="card-body">
                        <h5 class="card-title"><span class="badgeInfo ">{{selectedCandidateProfile.id}}</span></h5><br>
                        <p class="card-text text-left">{{selectedCandidateProfile.firstName}}
                            {{selectedCandidateProfile.lastName}}<br>{{selectedCandidateProfile.job_position}}</p>

                        <div class="row-sm-6 ">
                            <form name="dateForm" class="form row p-1" novalidate>
                                <div class="form-group border rounded p-2">

                                    <label>
                                        <span class="text-danger">*</span>
                                        <span ng-show="!isShowDateError()">วันที่เจรจา</span>
                                        <span class="text-danger" ng-show="isShowDateError()">กรุณาระบุวันที่</span>
                                    </label>

                                    <div>
                                        <div class="mx-3" style="display: flex; align-items: center; justify-content: space-between;">
                                            <button class="btn btn-outline" ng-click="backmonth()"><i class="fa fa-chevron-left" aria-hidden="true"></i></button>
                                            <button class="btn btn-outline" ng-click="months_date()">{{fullMonth}} {{year_date}}</button>
                                            <button class="btn btn-outline" ng-click="nextmonth()"><i class="fa fa-chevron-right" aria-hidden="true"></i></button>
                                        </div>
                                        <div ng-show="month_date"> 
                                            <table>
                                                <tbody>
                                                    <tr>
                                                        <td><button class="btn btn-outline-info" ng-click="change_month(datemonths[0].key)">{{datemonths[0].value}}</button></td>
                                                        <td><button class="btn btn-outline-info"ng-click="change_month(datemonths[1].key)">{{datemonths[1].value}}</button></td>
                                                        <td><button class="btn btn-outline-info" ng-click="change_month(datemonths[2].key)">{{datemonths[2].value}}</button></td>
                                                    </tr>
                                                    <tr>
                                                        <td><button class="btn btn-outline-info" ng-click="change_month(datemonths[3].key)">{{datemonths[3].value}}</button></td>
                                                        <td><button class="btn btn-outline-info" ng-click="change_month(datemonths[4].key)">{{datemonths[4].value}}</button></td>
                                                        <td><button class="btn btn-outline-info" ng-click="change_month(datemonths[5].key)">{{datemonths[5].value}}</button></td>
                                                    </tr>
                                                    <tr>
                                                        <td><button class="btn btn-outline-info" ng-click="change_month(datemonths[6].key)">{{datemonths[6].value}}</button></td>
                                                        <td><button class="btn btn-outline-info" ng-click="change_month(datemonths[7].key)">{{datemonths[7].value}}</button></td>
                                                        <td><button class="btn btn-outline-info" ng-click="change_month(datemonths[8].key)">{{datemonths[8].value}}</button></td>
                                                    </tr>
                                                    <tr>
                                                        <td><button class="btn btn-outline-info" ng-click="change_month(datemonths[9].key)">{{datemonths[9].value}}</button></td>
                                                        <td><button class="btn btn-outline-info" ng-click="change_month(datemonths[10].key)">{{datemonths[10].value}}</button></td>
                                                        <td><button class="btn btn-outline-info" ng-click="change_month(datemonths[11].key)">{{datemonths[11].value}}</button></td>
                                                    </tr>
                                                </tbody>
                                            </table>                                                                                        
                                        </div>
                                        <div ng-show="table_date">
                                            <table class="table">
                                                <thead>
                                                    <tr>
                                                        <th>Su</th>
                                                        <th>Mo</th>
                                                        <th>Tu</th>
                                                        <th>We</th>
                                                        <th>Th</th>
                                                        <th>Fr</th>
                                                        <th>Sa</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="day in datedays"> 
                                                      <td><button ng-if="day.day1 !== undefined" class="btn-xs" ng-click="btnsum(day.day1)"><p>{{day.day1}}</p></button></td>
                                                      <td><button ng-if="day.day2 !== undefined" class="btn-xs" ng-click="btnsum(day.day2)"><p>{{day.day2}}</p></button></td>
                                                      <td><button ng-if="day.day3 !== undefined" class="btn-xs" ng-click="btnsum(day.day3)"><p>{{day.day3}}</p></button></td>
                                                      <td><button ng-if="day.day4 !== undefined" class="btn-xs" ng-click="btnsum(day.day4)"><p>{{day.day4}}</p></button></td>
                                                      <td><button ng-if="day.day5 !== undefined" class="btn-xs" ng-click="btnsum(day.day5)"><p>{{day.day5}}</p></button></td>
                                                      <td><button ng-if="day.day6 !== undefined" class="btn-xs" ng-click="btnsum(day.day6)"><p>{{day.day6}}</p></button></td>
                                                      <td><button ng-if="day.day7 !== undefined" class="btn-xs" ng-click="btnsum(day.day7)"><p>{{day.day7}}</p></button></td>
                                                    </tr>
                                                </tbody> 
                                                <style>
                                                    .btn-xs{
                                                        margin-left: -10px;
                                                        margin-right: -10px;
                                                        margin-top: -10px;
                                                        margin-bottom: -10px;
                                                        height: 25px;
                                                        width: 35px;                
                                                        font-size: 14px;
                                                        border-color: aliceblue;
                                                        color: rgb(8, 8, 8);
                                                        border-radius: 50px;
                                                        background-color: #FFFFFF;
                                                    }
                                                    .btn-xs:active {
                                                        border-color: green;
                                                        background-color: lightgreen;
                                                    }
                                                </style>  
                                                <script>
                                                    function toggleButton(buttonId) {
                                                      var button = document.getElementById(buttonId);
                                                      button.classList.toggle('active');
                                                    }
                                                </script>                                                                                                 
                                            </table>
                                        </div>
                                    </div>

                                    <div class="input-group date" id="entryStartDatePicker" data-target-input="nearest">
                                        <input name="day" class="form-control datetimepicker-input"
                                            data-target="#entryStartDatePicker"
                                            ng-class="{'is-invalid': isShowDateError()}"
                                            ng-model="selectedCandidateProfile.day" required />
                                        <div class="input-group-append" data-target="#entryStartDatePicker"
                                            data-toggle="datetimepicker">
                                            <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                                        </div>
                                    </div>

                                    <div class="row mt-3">
                                        <div class="col-sm-6">
                                            <select name="startTime" class="form-control"
                                                ng-class="{'is-invalid': isShowStartNegotiateError()}"
                                                ng-model="selectedCandidateProfile.start_negotiate"
                                                ng-style="{'font-size':'14px'}" required>
                                                <option value="" disabled selected hidden>
                                                    กรุณาเลือก
                                                </option>
                                                <option ng-repeat="time in timeOptions | orderBy: 'time.id'"
                                                    ng-value="time.id">
                                                    {{time.name }}
                                                </option>
                                            </select>
                                        </div>

                                        <div class="col-sm-6">

                                            <select name="endTime" class="form-control"
                                                ng-class="{'is-invalid': isShowEndNegotiateError()}"
                                                ng-model="selectedCandidateProfile.end_negotiate"
                                                ng-style="{'font-size':'14px'}" required>
                                                <option value="" disabled selected hidden>
                                                    กรุณาเลือก
                                                </option>
                                                <option ng-repeat="time in timeOptions | orderBy: 'time.id'"
                                                    ng-value="time.id">
                                                    {{time.name}}
                                                </option>
                                            </select>
                                        </div>

                                    </div>
                                    <div class="container p-2">
                                        <button class="btn btn-outline-danger text-dark" ng-click="toListMode()">
                                            <i class="fa "></i>ยกเลิก
                                        </button>
                                        <button class="btn btn-outline-success text-dark " ng-click="requestSaveDate()">
                                            <i class="fa"></i>ยืนยัน
                                        </button>
                                    </div>
                                </div>
                            </form>

                        </div>
                    </div>
                </div>
            </div>
            <div class="p-3 mt-3 mb-3 bg-light rounded">
                <a href="">
                    <div ng-repeat="candidate in candidates | orderBy:'sortCandidatesById'"
                        class="card hoverEffect mb-3"
                        ng-if="candidate.negotiate_status == 'null' && candidate.id != selectedCandidateProfile.id">
                        <div class="card-body " ng-click="goSetDateNegotiate(candidate); tables_date()">
                            <h5 class="card-title"><span class="badgeInfo ">{{candidate.id}}</span></h5><br>
                            <p class="card-text text-left ">{{candidate.firstName}}
                                {{candidate.lastName}}<br>({{candidate.job_position}})</p>
                        </div>
                    </div>
                </a>
            </div>
        </div>
        <!--  col-9 -->
        <div class="col-sm-9 mt-3 mb-3 px-2 ">
            <div class="row gx-5 text-center">
                <!--  รอเจรจาสัญญาจ้าง-->
                <div class="col-sm-3  mb-3 px-1 ">
                    <div class="p-2 bg-light h-100 rounded " style="background-color: #E5E9EB;">
                        <p class="text-left pInterBold" style="color: #6E7C87;">รอเจรจาสัญญาจ้าง</p>
                        <a href="">
                            <div ng-repeat="candidate in candidates | orderBy:'sortCandidatesById'"
                                class="card hoverEffect mb-3 mt-1" ng-if="candidate.negotiate_status == 'wait'">

                                <div class="card-body  " ng-click="toDetailMode(candidate)">
                                    <h5 class="card-title"><span class="badgeInfo">{{candidate.id}}</span></h5><br>
                                    <p class="card-text text-left ">{{candidate.firstName}}
                                        {{candidate.lastName}}<br>({{candidate.job_position}})
                                    </p>
                                </div>

                                <div class="p-1">
                                    <div style="text-align: center;" ng-click="toDetailMode(candidate)">
                                        <span class="spanTime float-left  bgYellow p10 p700"
                                            ng-style="{'color': '#AC7710'}">
                                            {{candidate.day}} :
                                            {{candidate.startTime}} -
                                            {{candidate.endTime}}
                                        </span>
                                    </div>
                                    <button class="button buttonYes p8 p700" ng-style="{'width':'40%'}"
                                        ng-click="toEntryNegotiateMode(candidate)">
                                        เริ่มเจรจา
                                    </button>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
                <!--  รอตกลงเซ็นสัญญาจ้าง-->
                <div class="col-sm-3  mb-3 px-2 ">
                    <div class="p-2 bg-light h-100  rounded" style="background-color: #E5E9EB;">
                        <p class="text-left pInterBold" style="color: #6E7C87;">รอตกลงเซ็นสัญญาจ้าง</p>
                        <a href="">
                            <div ng-repeat="candidate in candidates | orderBy:'sortCandidatesById'"
                                class="card hoverEffect mb-3 mt-1"
                                ng-if="candidate.negotiate_status == 'waitForResult'">
                                <div class="card-body" ng-click="toDetailMode(candidate)">
                                    <h5 class="card-title"><span class="badgeInfo">{{candidate.id}}</span></h5><br>
                                    <p class="card-text text-left ">{{candidate.firstName}}
                                        {{candidate.lastName}}<br>({{candidate.job_position}})
                                    </p>

                                </div>
                                <!-- ใส่ฟังก์ชั่น ลบ เพิ่ม-->

                                <div class="p-1">
                                    <button class="button buttonYellow p8 p700" ng-style="{'width':'25%'}"
                                        ng-click="toDetailNegotiateMode(candidate)">
                                        ดูข้อมูล
                                    </button>
                                    <button class="button buttonYes p8 p700" ng-style="{'width':'25%'}" ng-click="">
                                        ตกลง
                                    </button>
                                    <button class="button buttonNo p8 p700" ng-style="{'width':'25%'}" ng-click="">
                                        ไม่ตกลง
                                    </button>
                                </div>

                            </div>
                        </a>
                    </div>
                </div>
                <!--  เจรจาสัญญาจ้างสำเร็จ-->
                <div class="col-sm-3 mb-3 px-2 ">
                    <div class="p-2 bg-light h-100 rounded " style="background-color: #E5E9EB;">
                        <p class="text-left pInterBold" style="color: #6E7C87;">เจรจาสัญญาจ้างสำเร็จ</p>
                        <a href="">
                            <div ng-repeat="candidate in candidates | orderBy:'sortCandidatesById'"
                                class="card hoverEffect mb-3 mt-1" ng-if="candidate.negotiate_status == 'success'">
                                <div class="card-body " ng-click="toDetailMode(candidate)">
                                    <h5 class="card-title"><span class="badgeInfo">{{candidate.id}}</span></h5><br>
                                    <p class="card-text text-left ">{{candidate.firstName}}
                                        {{candidate.lastName}}<br>({{candidate.job_position}})
                                    </p>
                                    <div style="text-align: center;">
                                        <span class="spanTime float-left  bgGreen p10 p700"
                                            ng-style="{'color': '#12B76A'}">
                                            {{candidate.day}} :
                                            {{candidate.startTime}} -
                                            {{candidate.endTime}}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
                <!--  เจรจาสัญญาจ้างไม่สำเร็จ-->
                <div class="col-sm-3 mb-3 px-2 ">
                    <div class="p-2 bg-light h-100  rounded" style="background-color: #E5E9EB;">
                        <p class="text-left pInterBold" style="color: #6E7C87;">เจรจาสัญญาจ้างไม่สำเร็จ</p>
                        <a href="">
                            <div ng-repeat="candidate in candidates | orderBy:'sortCandidatesById'"
                                class="card hoverEffect mb-3 mt-1" ng-if="candidate.negotiate_status == 'failed'">
                                <div class="card-body" ng-click="toDetailMode(candidate)">
                                    <h5 class="card-title"><span class="badgeInfo">{{candidate.id}}</span></h5><br>
                                    <p class="card-text text-left ">{{candidate.firstName}}
                                        {{candidate.lastName}}<br>({{candidate.job_position}})
                                    </p>

                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>